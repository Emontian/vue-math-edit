<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>数学编辑器</title>
    <!-- 配置文件 -->
    <script type="text/javascript" src="ueditor.config.js"></script>
    <!-- 编辑器源码文件 -->
    <script type="text/javascript" src="ueditor.all.js"></script>
    <!-- 数学编辑器公式渲染 -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/kityformula-plugin/addKityFormulaDialog.js"></script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/kityformula-plugin/getKfContent.js"></script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/kityformula-plugin/defaultFilterFix.js"></script>

    <!-- <script src="/ueditor/kityformula-plugin/kityformula/js/jquery-1.11.0.min.js"></script> -->
    
</head>

<body>
    <noscript>
        <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled.
            Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    

    <!-- 实例化编辑器 -->
    <script type="text/javascript">
        window.onload = () => {
            var ue = UE.getEditor('UEditor');
            if (MathJax) {
                MathJax.Hub.Config({
                    jax: ["input/TeX", "output/HTML-CSS", "output/PreviewHTML"], //输出格式配置：latex 解析为 DOM结构
                    tex2jax: {
                        inlineMath: [
                            ['$', '$']
                        ],
                        displayMath: [
                            ['$$', '$$'],
                            ["\\[", "\\]"]
                        ]
                    },
                    "HTML-CSS": {
                        showMathMenu: false, // 隐藏右键菜单展示
                        linebreaks: {
                            automatic: true, //超长公式换行处理（默认是false不换行）
                            width: "80%" //设置换行的点，默认是遇到等号=换行
                        }
                    },
                });
            }

            /* const button = document.getElementById('btn');
            button.onclick = () => {
                const element = document.getElementById('ueditor_0').contentWindow.document.querySelector('body.view>p');
                window.MathJax && window.MathJax.Hub.Queue(["Typeset", MathJax.Hub, element], function () {
                    //to do something   公式重新渲染完成后执行这个回调函数
                });
            } */
        }
    </script>
    
    <!-- built files will be auto injected -->
</body>

</html>